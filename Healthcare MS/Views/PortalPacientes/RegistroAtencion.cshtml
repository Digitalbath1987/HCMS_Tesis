
@{
    ViewBag.Title = "Registro de atención";
}

<h2>Registro de atención</h2>

<div class="row x-spacing bl-spacing">
    <div class="col">
        <h3>Eventos anteriores</h3>
        <small>Aquí puedes revisar tu registro de atenciones médicas</small>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Tipo</th>
                    <th>Fecha</th>
                    <th>Hora</th>
                    <th>Estado</th>
                    <th>Detalles</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Atención médica</td>
                    <td>04-09-2017</td>
                    <td>13:15</td>
                    <td>Anulada</td>
                    <td><a href="#" data-toggle="modal" data-target="#hora-anterior-modal-1"><span class="fa-stack fa-lg pull-left"><i class="fa fa-search fa-stack-1x "></i></span></a></td>
                </tr>
                <tr>
                    <td>Examen</td>
                    <td>21-09-2017</td>
                    <td>10:30</td>
                    <td>Asistida</td>
                    <td><a href="#" data-toggle="modal" data-target="#examen-anterior-modal"><span class="fa-stack fa-lg pull-left"><i class="fa fa-search fa-stack-1x "></i></span></a></td>
                </tr>
                <tr>
                    <td>Atención médica</td>
                    <td>27-09-2017</td>
                    <td>11:00</td>
                    <td>No asistida</td>
                    <td><a href="#" data-toggle="modal" data-target="#hora-anterior-modal-2"><span class="fa-stack fa-lg pull-left"><i class="fa fa-search fa-stack-1x "></i></span></a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="row x-spacing bl-spacing">
    <div class="col">
        <h3>Próximos eventos</h3>
        <small>Aquí puedes revisar tus próximos eventos</small>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Tipo</th>
                    <th>Fecha</th>
                    <th>Hora</th>
                    <th>Detalles</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Examen</td>
                    <td>15-10-2017</td>
                    <td>11:15</td>
                    <td><a href="#" data-toggle="modal" data-target="#examen-modal"><span class="fa-stack fa-lg pull-left"><i class="fa fa-search fa-stack-1x "></i></span></a></td>
                </tr>
                <tr>
                    <td>Atención médica</td>
                    <td>22-10-2017</td>
                    <td>09:30</td>
                    <td><a href="#" data-toggle="modal" data-target="#hora-modal-1"><span class="fa-stack fa-lg pull-left"><i class="fa fa-search fa-stack-1x "></i></span></a></td>
                </tr>
                <tr>
                    <td>Atención médica</td>
                    <td>03-11-2017</td>
                    <td>12:00</td>
                    <td><a href="#" data-toggle="modal" data-target="#hora-modal-2"><span class="fa-stack fa-lg pull-left"><i class="fa fa-search fa-stack-1x "></i></span></a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="row x-spacing bl-spacing">
    <div class="col">
        <h3>Eventos por aprobar</h3>
        <small>Revisa los eventos que aún no se aprueban</small>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Tipo</th>
                    <th>Fecha</th>
                    <th>Hora</th>
                    <th>Detalles</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Atención médica</td>
                    <td>08-10-2017</td>
                    <td>09:15</td>
                    <td><a href="#" data-toggle="modal" data-target="#hora-por-aprobar-modal"><span class="fa-stack fa-lg pull-left"><i class="fa fa-search fa-stack-1x "></i></span></a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="modal fade" id="examen-anterior-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog bl-spacing">
        <div class="modal-content">
            <div class="modal-header" align="center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
            </div>

            <!-- Begin # DIV Form -->
            <div id="div-forms">
                <!-- Begin # Login Form -->
                <div id="login-form">
                    <div class="modal-body">
                        <div id="div-login-msg">
                            <div id="icon-login-msg" class="glyphicon glyphicon-chevron-right"></div>
                            <span id="text-login-msg">Detalles</span>
                        </div>
                        <div class="row t-spacing">
                            <div class="col-sm-6">
                                <label class="form-label">Centro médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">CESFAM Joan Alsina</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Fecha y hora de examen</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">21-09-2017 10:30</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Estado</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Asistida</label>
                            </div>
                        </div>
                        <div class="row"><h3>Resultados</h3></div>
                        <div class="row">
                            <div class="col-sm-12">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Tipo de examen</th>
                                            <th>Valor de referencia</th>
                                            <th>Resultado</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Sangre - Conteo de plaquetas rojos</td>
                                            <td>150 a 400 × 109/L.</td>
                                            <td>300</td>
                                        </tr>
                                        <tr>
                                            <td>Sangre - VHS</td>
                                            <td>1-7mm/h</td>
                                            <td>4</td>
                                        </tr>
                                        <tr>
                                            <td>Glucosa</td>
                                            <td>70 y 100 mg/dl</td>
                                            <td>90</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="hora-anterior-modal-1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog bl-spacing">
        <div class="modal-content">
            <div class="modal-header" align="center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
            </div>

            <!-- Begin # DIV Form -->
            <div id="div-forms">
                <!-- Begin # Login Form -->
                <div id="login-form">
                    <div class="modal-body">
                        <div id="div-login-msg">
                            <div id="icon-login-msg" class="glyphicon glyphicon-chevron-right"></div>
                            <span id="text-login-msg">Detalles</span>
                        </div>
                        <div class="row t-spacing">
                            <div class="col-sm-6">
                                <label class="form-label">Centro médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">CESFAM Joan Alsina</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Médico prueba</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Fecha y hora</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">04-09-2017 13:15</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Especialidad</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Medicina General</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Estado</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Anulada</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="hora-anterior-modal-2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog bl-spacing">
        <div class="modal-content">
            <div class="modal-header" align="center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
            </div>

            <!-- Begin # DIV Form -->
            <div id="div-forms">
                <!-- Begin # Login Form -->
                <div id="login-form">
                    <div class="modal-body">
                        <div id="div-login-msg">
                            <div id="icon-login-msg" class="glyphicon glyphicon-chevron-right"></div>
                            <span id="text-login-msg">Detalles</span>
                        </div>
                        <div class="row t-spacing">
                            <div class="col-sm-6">
                                <label class="form-label">Centro médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">CESFAM Joan Alsina</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Médico prueba</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Fecha y hora</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">27-09-2017 11:00</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Especialidad</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Odontología</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Estado</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">No asistida</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="examen-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog bl-spacing">
        <div class="modal-content">
            <div class="modal-header" align="center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
            </div>

            <!-- Begin # DIV Form -->
            <div id="div-forms">
                <!-- Begin # Login Form -->
                <div id="login-form">
                    <div class="modal-body">
                        <div id="div-login-msg">
                            <div id="icon-login-msg" class="glyphicon glyphicon-chevron-right"></div>
                            <span id="text-login-msg">Detalles</span>
                        </div>
                        <div class="row t-spacing">
                            <div class="col-sm-6">
                                <label class="form-label">Nombre de Paciente</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Nombre prueba</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">RUT</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">xx.xxx.xxx-x</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Centro médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">CESFAM Joan Alsina</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Fecha y hora de examen</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">15-10-2017 11:15</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Tipo de examen</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Sangre - Glucosa</td>
                                        </tr>
                                        <tr>
                                            <td>Orina - Glucosa</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="hora-modal-1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog bl-spacing">
        <div class="modal-content">
            <div class="modal-header" align="center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
            </div>

            <!-- Begin # DIV Form -->
            <div id="div-forms">
                <!-- Begin # Login Form -->
                <div id="login-form">
                    <div class="modal-body">
                        <div id="div-login-msg">
                            <div id="icon-login-msg" class="glyphicon glyphicon-chevron-right"></div>
                            <span id="text-login-msg">Detalles</span>
                        </div>
                        <div class="row t-spacing">
                            <div class="col-sm-6">
                                <label class="form-label">Nombre de Paciente</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Nombre prueba</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">RUT</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">xx.xxx.xxx-x</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Centro médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">CESFAM Joan Alsina</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Médico prueba</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Fecha y hora</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">22-10-2017 09:30</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Especialidad</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Medicina General</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="hora-modal-2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog bl-spacing">
        <div class="modal-content">
            <div class="modal-header" align="center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
            </div>

            <!-- Begin # DIV Form -->
            <div id="div-forms">
                <!-- Begin # Login Form -->
                <div id="login-form">
                    <div class="modal-body">
                        <div id="div-login-msg">
                            <div id="icon-login-msg" class="glyphicon glyphicon-chevron-right"></div>
                            <span id="text-login-msg">Detalles</span>
                        </div>
                        <div class="row t-spacing">
                            <div class="col-sm-6">
                                <label class="form-label">Nombre de Paciente</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Nombre prueba</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">RUT</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">xx.xxx.xxx-x</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Centro médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">CESFAM Joan Alsina</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Médico prueba</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Fecha y hora</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">03-11-2017 12:00</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Especialidad</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Psicología</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="hora-por-aprobar-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog bl-spacing">
        <div class="modal-content">
            <div class="modal-header" align="center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                </button>
            </div>
            <div id="div-forms">
                <div id="login-form">
                    <div class="modal-body">
                        <div id="div-login-msg">
                            <div id="icon-login-msg" class="glyphicon glyphicon-chevron-right"></div>
                            <span id="text-login-msg">Detalles</span>
                        </div>
                        <div class="row t-spacing">
                            <div class="col-sm-6">
                                <label class="form-label">Centro médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">CESFAM Joan Alsina</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Médico</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Médico prueba</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Fecha y hora</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">08-11-2017 09:15</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Especialidad</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Odontología</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="form-label">Estado</label>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-control">Por aprobar</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>

    $(function () {

        var $formLogin = $('#login-form');
        var $formLost = $('#lost-form');
        var $formRegister = $('#register-form');
        var $divForms = $('#div-forms');
        var $modalAnimateTime = 300;
        var $msgAnimateTime = 150;
        var $msgShowTime = 2000;

        $("form").submit(function () {
            switch (this.id) {
                case "login-form":
                    var $lg_username = $('#login_username').val();
                    var $lg_password = $('#login_password').val();
                    if ($lg_username == "ERROR") {
                        msgChange($('#div-login-msg'), $('#icon-login-msg'), $('#text-login-msg'), "error", "glyphicon-remove", "Login error");
                    } else {
                        msgChange($('#div-login-msg'), $('#icon-login-msg'), $('#text-login-msg'), "success", "glyphicon-ok", "Login OK");
                    }
                    return false;
                    break;
                case "lost-form":
                    var $ls_email = $('#lost_email').val();
                    if ($ls_email == "ERROR") {
                        msgChange($('#div-lost-msg'), $('#icon-lost-msg'), $('#text-lost-msg'), "error", "glyphicon-remove", "Send error");
                    } else {
                        msgChange($('#div-lost-msg'), $('#icon-lost-msg'), $('#text-lost-msg'), "success", "glyphicon-ok", "Send OK");
                    }
                    return false;
                    break;
                case "register-form":
                    var $rg_username = $('#register_username').val();
                    var $rg_email = $('#register_email').val();
                    var $rg_password = $('#register_password').val();
                    if ($rg_username == "ERROR") {
                        msgChange($('#div-register-msg'), $('#icon-register-msg'), $('#text-register-msg'), "error", "glyphicon-remove", "Register error");
                    } else {
                        msgChange($('#div-register-msg'), $('#icon-register-msg'), $('#text-register-msg'), "success", "glyphicon-ok", "Register OK");
                    }
                    return false;
                    break;
                default:
                    return false;
            }
            return false;
        });

        $('#login_register_btn').click(function () { modalAnimate($formLogin, $formRegister) });
        $('#register_login_btn').click(function () { modalAnimate($formRegister, $formLogin); });
        $('#login_lost_btn').click(function () { modalAnimate($formLogin, $formLost); });
        $('#lost_login_btn').click(function () { modalAnimate($formLost, $formLogin); });
        $('#lost_register_btn').click(function () { modalAnimate($formLost, $formRegister); });
        $('#register_lost_btn').click(function () { modalAnimate($formRegister, $formLost); });

        function modalAnimate($oldForm, $newForm) {
            var $oldH = $oldForm.height();
            var $newH = $newForm.height();
            $divForms.css("height", $oldH);
            $oldForm.fadeToggle($modalAnimateTime, function () {
                $divForms.animate({ height: $newH }, $modalAnimateTime, function () {
                    $newForm.fadeToggle($modalAnimateTime);
                });
            });
        }

        function msgFade($msgId, $msgText) {
            $msgId.fadeOut($msgAnimateTime, function () {
                $(this).text($msgText).fadeIn($msgAnimateTime);
            });
        }

        function msgChange($divTag, $iconTag, $textTag, $divClass, $iconClass, $msgText) {
            var $msgOld = $divTag.text();
            msgFade($textTag, $msgText);
            $divTag.addClass($divClass);
            $iconTag.removeClass("glyphicon-chevron-right");
            $iconTag.addClass($iconClass + " " + $divClass);
            setTimeout(function () {
                msgFade($textTag, $msgOld);
                $divTag.removeClass($divClass);
                $iconTag.addClass("glyphicon-chevron-right");
                $iconTag.removeClass($iconClass + " " + $divClass);
            }, $msgShowTime);
        }
    });
</script>

